SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> int[K[K[Kcreate tabe[Kles[K int[K[K[Ksu[Ktunde[K[K[Kdents [K 
   ...> (int[K[K[Kid,[K inge[K[Kyt[K[Kteger,
   ...> name tx[Kext,
   ...> s[Kage ing[Kteger,
   ...> score integer);
sqlite> select [K[K[K[K[K[K[Kch[K[Kschema w[K[K[K[K[K[K[K[K.schec[Kme ow[K[K[K[Ka ow[K[Ktable stun[Kdents;
sqlite> .schema table students;[K
sqlite> .scha[Kem stund[K[Kdents
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
sqlite> .data[K[K[K[Kheader on
sqlite> int[K[K[Kinsert into wo[K[Kd[Kstudents (id, name, s[Kage, so[Kcore)
   ...> values )[K(0[K1, "le[K[K[K'le[K[KLeo', 39[K[K38, int[K[K[K1000[K)
   ...> ;
sqlite> int[K[K[Kselect f[K* from w[Kstunde[K[K[Kdents;
id|name|age|score
1|Leo|38|100
sqlite> [Ksqlite> qi[Kuit[K[K[K[K.exit
SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> .baqc[K[Kckp[Kup config.tmp.db.[K[Kb
sqlite> .exit
leocheung@leocheung-CW65S:~/ikuai_gitsrc/sqlite3$ ls -lrt
总用量 16
-rw-r--r-- 1 leocheung root 2048 3月  12 17:12 config1.db
-rw-r--r-- 1 leocheung root 1012 3月  12 17:27 sqlite3.2.git.log
-rw-r--r-- 1 leocheung root 2048 3月  12 17:52 config.tmp.db
-rw-r--r-- 1 leocheung root 1154 3月  12 17:52 sqlite3.git.log
leocheung@leocheung-CW65S:~/ikuai_gitsrc/sqlite3$ sqlite3 config.tmp.db 
SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> .databases
seq  name             file                                                      
---  ---------------  ----------------------------------------------------------
0    main             /home/leocheung/ikuai_gitsrc/sqlite3/config.tmp.db        
sqlite> .tables
students
sqlite> quit
   ...> ;
Error: near "quit": syntax error
sqlite> .exit
leocheung@leocheung-CW65S:~/ikuai_gitsrc/sqlite3$ git diff
diff --git a/sqlite3/sqlite3.git.log b/sqlite3/sqlite3.git.log
index b65943f..13b4db0 100644
--- a/sqlite3/sqlite3.git.log
+++ b/sqlite3/sqlite3.git.log
@@ -21,3 +21,7 @@ sqlite> select * from students;
 id|name|age|score
 1|Leo|38|100
 sqlite> ^Msqlite> .exit


====.dump=====

zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ sqlite3 config1.db 
SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> .dump students
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
INSERT INTO "students" VALUES(1,'Leo',38,100);
COMMIT;
sqlite> 

==== .echo off|on =====


sqlite> .show 
.show 
        echo: on
         eqp: off
     explain: auto
     headers: off
        mode: list
   nullvalue: ""
      output: stdout
colseparator: "|"
rowseparator: "\n"
       stats: off
       width: 
sqlite> .echo off
.echo off
sqlite> .show
        echo: off
         eqp: off
     explain: auto
     headers: off
        mode: list
   nullvalue: ""
      output: stdout
colseparator: "|"
rowseparator: "\n"
       stats: off
       width: 
sqlite> select * from students;
1|Leo|38|100
sqlite> .echo on
sqlite> .show
.show
        echo: on
         eqp: off
     explain: auto
     headers: off
        mode: list
   nullvalue: ""
      output: stdout
colseparator: "|"
rowseparator: "\n"
       stats: off
       width: 
sqlite> select * from students;
select * from students;
1|Leo|38|100
sqlite> 

==== .explain ====
sqlite> .explain on
sqlite> select * from students;
id    name           age   scor
----  -------------  ----  ----
1     Leo            38    100 
sqlite> .explain off
sqlite> select * from students;
1|Leo|38|100
sqlite> .header on
sqlite> select * from students;
id|name|age|score
1|Leo|38|100
sqlite> .explain on
sqlite> select * from students;
id    name           age   scor
----  -------------  ----  ----
1     Leo            38    100 
sqlite> .explain off
sqlite> select * from students;
id|name|age|score
1|Leo|38|100


==== .import ====
zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ sqlite3  config1.db ".dump" > 1.dump
zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ cat 1.dump 
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
INSERT INTO "students" VALUES(1,'Leo',38,100);
COMMIT;
zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ sqlite3 config2.db ".import 1.dump students"
zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ sqlite3 config2.db 
SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> .databases
seq  name             file                                                      
---  ---------------  ----------------------------------------------------------
0    main             /home/zhangly/source/ikuai_gitsrc/sqlite3/config2.db      
sqlite> .table
students
sqlite> select * from students
   ...> ;
BEGIN TRANSACTION;
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
INSERT INTO "students" VALUES(1,'Leo',38,100);
COMMIT;
sqlite> .schema students
CREATE TABLE students(
  "PRAGMA foreign_keys=OFF;" TEXT
);
sqlite> .open config1.db 
sqlite> .schema students
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
sqlite> 


==== .indices for index ====

sqlite> .schema students
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
sqlite> .indices students --- 没有建立表索引无任何显示
sqlite> CREATE INDEX students_id_index on students(id);
sqlite> .indices stu --- 不写全表名，无任何显示
sqlite> .indices students
students_id_index
sqlite> .indices --- 不写表名都显示索引
students_id_index
sqlite> .schema students
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
CREATE INDEX students_id_index on students(id);
sqlite>


==== .log =====


zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ sqlite3 config1.db 
SQLite version 3.11.0 2016-02-15 17:29:24
sqlite> .log sqlite3.log 
sqlite> select * form students;
Error: near "form": syntax error
sqlite> select * form students;
Error: near "form": syntax error
sqlite> .exit

zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ cat sqlite3.log 
(1) near "form": syntax error
(1) near "form": syntax error



===== .mod ====

sqlite> .mod csv
sqlite> select * from students;
1,Leo,38,100
sqlite> .mod column
sqlite> select * from students;
1           Leo         38          100       
sqlite> .header on
sqlite> .mod csv
sqlite> select * from students;
id,name,age,score
1,Leo,38,100
sqlite> .mod column
sqlite> select * from students;
id          name        age         score     
----------  ----------  ----------  ----------
1           Leo         38          100       
sqlite> .mod html
sqlite> select * from students;
<TR><TH>id</TH>
<TH>name</TH>
<TH>age</TH>
<TH>score</TH>
</TR>
<TR><TD>1</TD>
<TD>Leo</TD>
<TD>38</TD>
<TD>100</TD>
</TR>
sqlite> .head off
sqlite> select * from students;
<TR><TD>1</TD>
<TD>Leo</TD>
<TD>38</TD>
<TD>100</TD>
</TR>
sqlite> .head on
sqlite> .mod insert
sqlite> select * from students;
INSERT INTO table(id,name,age,score) VALUES(1,'Leo',38,100);
sqlite> .mod line
sqlite> select * from students;
   id = 1
 name = Leo
  age = 38
score = 100
sqlite> insert into students(id, name, age, score) values (2, 'Annie', 30, 99);
sqlite> select * from students;
   id = 1
 name = Leo
  age = 38
score = 100

   id = 2
 name = Annie
  age = 30
score = 99
sqlite> .mod list
sqlite> select * from students;
id,name,age,score
1,Leo,38,100
2,Annie,30,99
sqlite> .mod csv
sqlite> select * from students;
id,name,age,score
1,Leo,38,100
2,Annie,30,99
sqlite> .mod tabs
sqlite> select * from students;
id	name	age	score
1	Leo	38	100
2	Annie	30	99
sqlite> .mod tcl
sqlite> select * from students;
"id" "name" "age" "score"
"1" "Leo" "38" "100"
"2" "Annie" "30" "99"
sqlite> 

==== nullvalue STRING ====

zhangly@HP:~/source/ikuai_gitsrc/sqlite3$ sqlite3 config1.db 
SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> select * from students;
1|Leo|38|100
2|Annie|30|99
3|||
sqlite> .nullvalue NULL
sqlite> select * from students;
1|Leo|38|100
2|Annie|30|99
3|NULL|NULL|NULL
sqlite> 

==== .output ====

sqlite> .output sqlite.output.log
sqlite> select * from students;
sqlite> .output stdout
sqlite> select * from students;
1|Leo|38|100
2|Annie|30|99
3|NULL|NULL|NULL
sqlite> 

$ cat sqlite.output.log 
1|Leo|38|100
2|Annie|30|99
3|NULL|NULL|NULL

==== .print ====

sqlite> .print string
string
sqlite> 

==== .prompt ====
$ sqlite3 config1.db 
SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> .prompt 333
333
333
333
333.prompt sqlite>
sqlite>

==== .read ====

$ cat read.sql 
INSERT INTO "students" VALUES(4,'Ultan',38,100);

sqlite>select * from students;
INSERT INTO table VALUES(1,'Leo',38,100);
INSERT INTO table VALUES(2,'Annie',30,99);
INSERT INTO table VALUES(3,NULL,NULL,NULL);
sqlite>.read read.sql 

sqlite>select * from students;
INSERT INTO table VALUES(1,'Leo',38,100);
INSERT INTO table VALUES(2,'Annie',30,99);
INSERT INTO table VALUES(3,NULL,NULL,NULL);
INSERT INTO table VALUES(4,'Ultan',38,100);
sqlite>

==== .schema ====

sqlite>.schema students
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
CREATE INDEX students_id_index on students(id);
sqlite>

==== .separator ====

sqlite> .header on
sqlite> select * from students;
id|name|age|score
1|Leo|38|100
2|Annie|30|99
3|||
4|Ultan|38|100
sqlite> .separator |_|
sqlite> select * from students;
id|_|name|_|age|_|score
1|_|Leo|_|38|_|100
2|_|Annie|_|30|_|99
3|_||_||_|
4|_|Ultan|_|38|_|100
sqlite> 

==== .stats ====
sqlite> .stats on
sqlite> select * from students;
id|_|name|_|age|_|score
1|_|Leo|_|38|_|100
2|_|Annie|_|30|_|99
3|_||_||_|
4|_|Ultan|_|38|_|100
Memory Used:                         144560 (max 153656) bytes
Number of Outstanding Allocations:   148 (max 163)
Number of Pcache Overflow Bytes:     1024 (max 1024) bytes
Number of Scratch Overflow Bytes:    0 (max 0) bytes
Largest Allocation:                  129600 bytes
Largest Pcache Allocation:           1024 bytes
Largest Scratch Allocation:          0 bytes
Lookaside Slots Used:                0 (max 0)
Successful lookaside attempts:       0
Lookaside failures due to size:      0
Lookaside failures due to OOM:       0
Pager Heap Usage:                    4464 bytes
Page cache hits:                     14
Page cache misses:                   2
Page cache writes:                   0
Schema Heap Usage:                   2136 bytes
Statement Heap/Lookaside Usage:      3208 bytes
Fullscan Steps:                      3
Sort Operations:                     0
Autoindex Inserts:                   0
Virtual Machine Steps:               32
sqlite> 

==== .tables ====

sqlite> .tables '%st%'
students
sqlite> .schema %stu%
CREATE TABLE students 
(id integer,
name text,
age integer,
score integer);
CREATE INDEX students_id_index on students(id);
sqlite> 


==== .timeout ====
==== .width ====

sqlite> .mod column
sqlite> select * from students;
i  name        age         score     
-  ----------  ----------  ----------
1  Leo         38          100       
2  Annie       30          99        
3                                    
4  Ultan       38          100       
sqlite> .width 20
sqlite> select * from students;
id                    name        age         score     
--------------------  ----------  ----------  ----------
1                     Leo         38          100       
2                     Annie       30          99        
3                                                       
4                     Ultan       38          100       
sqlite>

===== .timer =====
sqlite> .timer on
sqlite> select * from students;
id                    name        age         score     
--------------------  ----------  ----------  ----------
1                     Leo         38          100       
2                     Annie       30          99        
3                                                       
4                     Ultan       38          100       
Run Time: real 0.000 user 0.000000 sys 0.000000
sqlite> 

==== 注释 ====

--单行
/* */块
Enter ".help" for usage hints.
sqlite> select * from students; /* 查询students表 */
1|Leo|38|100
2|Annie|30|99
3|||
4|Ultan|38|100
sqlite> /*
   ...> 查询students表
   ...> */
sqlite> select * from students;
1|Leo|38|100
2|Annie|30|99
3|||
4|Ultan|38|100
sqlite> select * from students; --查询students表
1|Leo|38|100
2|Annie|30|99
3|||
4|Ultan|38|100
sqlite> 
sqlite> select * /*查询全部*/ from students;
1|Leo|38|100
2|Annie|30|99
3|||
4|Ultan|38|100
sqlite> 

=== alter ====

sqlite> create table t1 (id integer, name string);
sqlite> insert into t1(id,name) values(1, 'hello');
sqlite> .header on
sqlite> select * from t1;
id|name
1|hello
sqlite> alter table t1 add column reserved string;
sqlite> select * from t1;
id|name|reserved
1|hello|
sqlite> alter table t1 rename to t2;
sqlite> select * from t1;
Error: no such table: t1
sqlite> select * from t2;
id|name|reserved
1|hello|
sqlite> 


==== attach ====

SQLite version 3.11.0 2016-02-15 17:29:24
Enter ".help" for usage hints.
sqlite> create table teacher(id, name);
sqlite> insert into teacher(id,name) values(1, 'Ocean');
sqlite> select * from teacher;
1|Ocean
sqlite> .header on
sqlite> select * from teacher;
id|name
1|Ocean
sqlite> .open config1.db 
sqlite> .database
seq  name             file                                                      
---  ---------------  ----------------------------------------------------------
0    main             /home/zhangly/source/ikuai_gitsrc/sqlite3/config1.db      
sqlite> attach database '/home/zhangly/source/ikuai_gitsrc/sqlite3/attach.db' as attach;
sqlite> .databases
seq  name             file                                                      
---  ---------------  ----------------------------------------------------------
0    main             /home/zhangly/source/ikuai_gitsrc/sqlite3/config1.db      
2    attach           /home/zhangly/source/ikuai_gitsrc/sqlite3/attach.db       
sqlite> select * from students;
id|name|age|score
1|Leo|38|100
2|Annie|30|99
3|||
4|Ultan|38|100
sqlite> select * from teacher;
id|name
1|Ocean
sqlite> alter table students add column teacher_id integer;
sqlite> update students set teacher_id = 1 where id = 1;
sqlite> select * from students;
id|name|age|score|teacher_id
1|Leo|38|100|1
2|Annie|30|99|
3||||
4|Ultan|38|100|
sqlite> .header on
sqlite> select * from students;
id|name|age|score|teacher_id
1|Leo|38|100|1
2|Annie|30|99|
3||||
4|Ultan|38|100|
sqlite> select * from students, teacher where students.teacher_id = teacher.id;
id|name|age|score|teacher_id|id|name
1|Leo|38|100|1|1|Ocean

